{% extends 'base.html' %}
{% block title_block %} All Blogs {% endblock %}
{% block body_block %}

<style>
/* Card style */
.blog-card {
    display: flex;
    align-items: center;
    width: 80%;                
    margin: 0 auto 20px auto;  
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    background: #fff;
}

/* Image style */
.blog-image {
    width: 300px;
    height: 200px;
    object-fit: cover;
    border-radius: 6px 0 0 6px;
    flex-shrink: 0;
    margin: 0;
}

/* Text style */
.blog-content {
    flex: 1;
    padding: 12px 16px;
}
.blog-title {
    font-size: 1.2rem;
    margin-bottom: 6px;
}
.blog-date {
    font-size: 0.9rem;
    color: #777;
    margin-bottom: 6px;
}
.blog-snippet {
    font-size: 0.95rem;
    color: #444;
    margin-bottom: 8px;
}
.read-more {
    font-size: 0.9rem;
    color: #007bff;
    text-decoration: none;
}
.read-more:hover {
    text-decoration: underline;
}

/* Likes & Comments section */
.blog-stats {
    display: flex;
    gap: 15px;
    font-size: 0.9rem;
    color: #555;
    align-items: center;
    margin-top: 6px;
}
.blog-stats i {
    margin-right: 4px;
    color: #007bff;
}
</style>

<div class="container mt-4">
    <h2 class="mb-4 text-center">Latest Blogs</h2>

    {% for blog in blogs %}
    <div class="blog-card">
        {% if blog.blog_image %}
        <img src="{{ blog.blog_image.url }}" alt="{{ blog.blog_title }}" class="blog-image">
        {% endif %}
        <div class="blog-content">
            <h5 class="blog-title">{{ blog.blog_title }}</h5>
            <p class="blog-date">ðŸ“… {{ blog.publish_date|date:"M d, Y" }}</p>

            <p class="blog-snippet">
                {{ blog.blog_content|truncatechars:250 }} 
                <a href="{% url 'App_Blog:blog_details' slug=blog.slug %}" class="read-more">Read more</a>
            </p>

            <!-- Likes and Comments -->
            <div class="blog-stats">
                <span><i class="fa fa-thumbs-up"></i> {{ blog.liked_blog.count }} Likes</span>
                <span><i class="fa fa-comments"></i> {{ blog.blog_comment.count }} Comments</span>
            </div>
        </div>
    </div>
    {% empty %}
    <p>No blogs found.</p>
    {% endfor %}
</div>

{% endblock %}
